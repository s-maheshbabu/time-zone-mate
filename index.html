<!DOCTYPE html>
<html ng-app="clock">
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.js"></script>

<!-- Determine local timeZone name -->
<script type="text/javascript" src='https://cdnjs.cloudflare.com/ajax/libs/jstimezonedetect/1.0.4/jstz.min.js'></script>

<script src="jquery.autocomplete.min.js"></script>

<script type="text/javascript" src='https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.12.1/ui-bootstrap-tpls.min.js'></script>
<script src="jquery.timepicker.min.js"></script>
<script src="timepickerdirective.min.js"></script>

<script src="moment.min.js"></script>
<script src="moment-timezone-with-data.min.js"></script>

<link rel="stylesheet/less" type="text/css" href="less/styles.less" />
<script src="less.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="css/app.css">


<script src="app.js"></script>
<script src="timeZoneObjectModule.js"></script>
</head>

<body>
<div ng-controller="ClockController">
	<div class="container">
		<div class="row">
			<div class="col-lg-6 col-lg-offset-3">
				<label class="my-label"> {{localTime.title}} </label>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-6 col-lg-offset-3">
				<p class="input-group">
					<input type="text" validtime=true index=0 name="localTime" class="form-control" ng-model="localTime._timePart" ng-change="timestampChanged($index)" ui-timepicker time-picker-validator ui-timepicker-events />
					<span class="input-group-btn">
						<button type="button" class="btn green-button" ng-click="open($event, 0)"><i class="glyphicon glyphicon-calendar"></i></button>
					</span>
					<input readonly type="text" class="form-control hidden-date-input invisible" ng-change="dateChanged(0)" ng-model="localTime.datePartGetterSetter" ng-model-options="{getterSetter: true}"
							is-open="localTime.editMode" ng-required="true" datepicker-popup="yyyy-MM-dd" show-button-bar="false" />
				</p>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-6 col-lg-offset-3">
				<label ng-if="!localTime.invalidTime" ng-bind="localTime.moment.format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ')"></label>
				<label ng-if="localTime.invalidTime" style="color: #FF0000">Invalid Time</label>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-2 col-lg-offset-5">
				<span>
					<button type="button" class="btn blue-button" ng-click="pauseOrResetClocks()"> {{togglePauseResetText}} </button>
				</span>
				<span>
					<button type="button" class="btn blue-button" ng-click="toggleClockAdder()"> Add Clock </button>
				</span>
			</div>
		</div>
	</div>

	<div class="container" collapse="isCollapsed">
		<div class="row">
			<hr />
		</div>

		<div class="row">
			<div class="col-lg-6 col-lg-offset-3" ng-class="{'has-error':!timeZoneBeingAddedIsValid}">
				<div class="row">
					<div class="col-xs-11">
						<input type="text" class="form-control" placeholder="Try New York, India, PST, America/Los_Angeles etc." name="timeZoneToBeAdded" ng-model="timeZoneToBeAdded" auto-complete>
					</div>
					<div class="col-xs-1">
						<button type="button" class="btn btn-danger btn-circle pull-right" ng-click="toggleClockAdder()"><i class="glyphicon glyphicon-remove"></i></button>
					</div>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-lg-6 col-lg-offset-3" ng-hide="timeZoneBeingAddedIsValid">
				<label class="center-block text-danger pull-left error-message"><i> Sorry, that time zone is not supported. Click here if you think it should be supported. </i></label>
			</div>
		</div>

		<div class="row">
			<hr />
		</div>
	</div>

	<ol class="list-group">
		<li class="list-group-item" ng-repeat="addedTimeZoneChunk in addedTimeZoneChunks">
			<div class="container-fluid">
				<div class="row">
					<div class="col-lg-6" ng-repeat="addedTimeZone in addedTimeZoneChunk">
						<div class="row">
							<div class="col-lg-5 col-lg-offset-3">
								<div class="row spacer">
									<div class="col-lg-12">
										<label> {{addedTimeZone.title}} </label>
									</div>
								</div>
							</div>
							<div class="col-lg-1">
								<button type="button" class="btn btn-danger btn-circle pull-right" index="(2*$parent.$index) + $index + 1" ng-click="removeTimeZone((2*$parent.$index) + $index + 1)"><i class="glyphicon glyphicon-remove"></i></button>
							</div>
						</div>
						<div class="row">
							<div class="col-lg-6 col-lg-offset-3">
								<p class="input-group">
									<input type="text" validtime=true class="form-control" index="(2*$parent.$index) + $index + 1" ng-model="addedTimeZone._timePart" ng-change="timestampChanged((2*$parent.$index) + $index + 1)" ui-timepicker time-picker-validator ui-timepicker-events>
									<span class="input-group-btn">
										<button type="button" class="btn green-button" ng-click="open($event, (2*$parent.$index) + $index + 1)"><i class="glyphicon glyphicon-calendar"></i></button>
									</span>
									<input readonly type="text" class="form-control hidden-date-input invisible" ng-change="dateChanged((2*$parent.$index) + $index + 1)" ng-model="addedTimeZone.datePartGetterSetter" ng-model-options="{getterSetter: true}"
											is-open="addedTimeZone.editMode" ng-required="true" datepicker-popup="yyyy-MM-dd" show-button-bar="false" />
								</p>
							</div>
						</div>
						<div class="row">
							<div class="col-lg-6 col-lg-offset-3">
								<label ng-if="!addedTimeZone.invalidTime" ng-bind="addedTimeZone.moment.format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ')"></label>
								<label ng-if="addedTimeZone.invalidTime" style="color: #FF0000">Invalid Time</label>
							</div>
						</div>
					</div>
				</div>
			</div>
		</li>
	</ol>

	<ol class="list-group">
		<li class="list-group-item" ng-repeat="rows in addedTimeZonesChunks">
			<div class="container">
				<div class="row">
					<div class="col-lg-6" ng-repeat="item in rows">
						<label> {{item.title}} </label>
					</div>
				</div>
		</li>
	</ol>
</div>

</body>
</html>
<!DOCTYPE html>
<html ng-app="clock">
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.js"></script>

<!-- Determine local timeZone name -->
<script type="text/javascript" src='https://cdnjs.cloudflare.com/ajax/libs/jstimezonedetect/1.0.4/jstz.min.js'></script>

<script src="jquery.autocomplete.js"></script>

<script src="ui-bootstrap-tpls-0.12.1.min.js"></script>
<script src="jquery.timepicker.min.js"></script>
<script src="timepickerdirective.min.js"></script>

<script src="moment.min.js"></script>
<script src="moment-timezone-with-data.min.js"></script>

<link href='https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css' rel="stylesheet"/>
<link rel="stylesheet" type="text/css" href="css/app.css">

<script src="app.js"></script>
</head>

<body>
<div ng-controller="ClockController">
	<div class="container">
		<div class="row">
			<div class="col-lg-6 col-lg-offset-3">
				<label> {{localTime.title}} </label>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-6 col-lg-offset-3">
				<p class="input-group">
					<input type="text" index=0 name="localTime" class="form-control" ng-model="localTime.timePartGetterSetter" ng-model-options="{getterSetter: true}" ng-change="timestampChanged($index)" ui-timepicker ui-timepicker-events />
					<span class="input-group-btn">
						<button type="button" class="btn btn-default" ng-click="open($event, 0)"><i class="glyphicon glyphicon-calendar"></i></button>
					</span>
					<input readonly type="text" class="form-control" ng-change="dateChanged(0)" ng-model="localTime.datePart"
							is-open="localTime.editMode" ng-required="true" datepicker-popup="yyyy-MM-dd" show-button-bar="false" />
				</p>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-6 col-lg-offset-3 ">
				<label> {{localTime.timeZoneName}}:  </label>
				<label ng-if="!localTime.invalidTime" ng-bind="localTime.moment"></label>
				<label ng-if="localTime.invalidTime" style="color: #FF0000">Invalid Time</label>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-2 col-lg-offset-5">
				<span class="input-group-btn">
					<button type="button" class="btn btn-default" ng-click="resetAllClocks()">Reset</button>
				</span>
			</div>
		</div>
	</div>

	<hr />
	<div class="container">
		<div class="row">
			<div class="col-lg-4 col-lg-offset-4" ng-class="{'has-error':!timeZoneBeingAddedIsValid}">
				<input type="text" class="form-control" placeholder="Try New York, India, PST, America/Los_Angeles etc." name="timeZoneToBeAdded" ng-model="timeZoneToBeAdded" auto-complete>
			</div>
		</div>

		<div class="row">
			<div class="col-lg-6 col-lg-offset-3" ng-hide="timeZoneBeingAddedIsValid">
				<label class="center-block text-danger text-center error-message"><i> Sorry, that time zone is not supported. Click here if you think it should be supported. </i></label>
			</div>
		</div>
	</div>
	<hr />

	<ol class="list-group">
		<li class="list-group-item" ng-repeat="addedTimeZoneChunk in addedTimeZoneChunks">
			<div class="container-fluid">
				<div class="row">
					<div class="col-lg-6" ng-repeat="addedTimeZone in addedTimeZoneChunk">
						<div class="row">
							<div class="col-lg-10 col-lg-offset-1">
								<label> {{addedTimeZone.title}} </label>
							</div>
						</div>
						<div class="row">
							<div class="col-lg-10 col-lg-offset-1">
								<p class="input-group">
									<input type="text" validtime=true class="form-control" index="(2*$parent.$index) + $index + 1" ng-model="addedTimeZone.timePartGetterSetter" ng-model-options="{getterSetter: true}" ng-change="timestampChanged((2*$parent.$index) + $index + 1)" ui-timepicker ui-timepicker-events>
									<span class="input-group-btn">
										<button type="button" class="btn btn-default" ng-click="open($event, (2*$parent.$index) + $index + 1)"><i class="glyphicon glyphicon-calendar"></i></button>
									</span>
									<input readonly type="text" class="form-control" ng-change="dateChanged((2*$parent.$index) + $index + 1)" ng-model="addedTimeZone.datePart"
											is-open="addedTimeZone.editMode" ng-required="true" datepicker-popup="yyyy-MM-dd" show-button-bar="false" />
									<span class="input-group-btn">
										<button type="button" class="btn btn-default" index="(2*$parent.$index) + $index + 1" ng-click="removeTimeZone((2*$parent.$index) + $index + 1)">Remove</button>
									</span>
								</p>
							</div>
						</div>
						<div class="row">
							<div class="col-lg-10 col-lg-offset-1">
								<label> {{addedTimeZone.timeZoneName}} </label>
								<label ng-if="!addedTimeZone.invalidTime" ng-bind="addedTimeZone.moment"></label>
								<label ng-if="addedTimeZone.invalidTime" style="color: #FF0000">Invalid Time</label>
							</div>
						</div>
					</div>
				</div>
			</div>
		</li>
	</ol>

	<ol class="list-group">
		<li class="list-group-item" ng-repeat="rows in addedTimeZonesChunks">
			<div class="container">
				<div class="row">
					<div class="col-lg-6" ng-repeat="item in rows">
						<label> {{item.title}} </label>
					</div>
				</div>
		</li>
	</ol>
</div>

</body>
</html>